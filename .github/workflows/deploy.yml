name: "Deploy the app to server"
on:
    push:
        branches:
            - main


jobs:
    build-and-deploy:
        runs-on: "ubuntu-latest"

        steps:
            - name: Checkout Code
              uses: actions/checkout@v4
            
            - name: "Build Project"
              run: |
                    npm install
                    npm run build

            - name: "Upload to Server"
              uses: SamKirkland/FTP-Deploy-Action@v4.3.5
              with: 
                server: ${{secrets.FTP_SERVER}}
                username: ${{secrets.FTP_USERNAME}}
                password: ${{secrets.FTP_PASSWORD}}
                local-dir: ./dist/
                server-dir: ${{secrets.FTP_SERVER_DIR}}
